<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Desconecta & Cresce</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="container">
    <header class="header">
      <h1>DESCONECTA & CRESCE</h1>
      <p>Um dia por semana sem celular, mais conexÃ£o com vocÃª mesmo. Seu pet vai crescer junto com vocÃª!</p>
    </header>

    <div class="card">
      <!-- UsuÃ¡rio -->
      <div class="user-info">
        <div class="perfil">
          <img id="fotoPerfil" src="avatar-default.png" alt="Foto de perfil">
          <input type="file" id="inputFoto" accept="image/*">
        </div>

        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" placeholder="Digite seu nome">
      </div>

      <!-- BotÃ£o de sortear -->
      <button class="sortear-btn" onclick="sortearPet()">ğŸ² Sortear Pet</button>

      <!-- Imagem e nome do pet -->
      <img id="petImagem" class="pet-imagem" alt="Pet pequeno">
      <h2 id="petNome">Nenhum pet ainda</h2>

      <!-- Barra de XP -->
      <div class="progress-container">
        <div class="progress-bar" id="xpBar"></div>
      </div>
      <p id="xpTexto">XP: 0%</p>

      <!-- BotÃ£o de XP -->
      <button onclick="ganharXP()">ğŸ’ª Ganhar XP</button>
    </div>

    
    <!-- Atividades -->
    <div class="section">
      <h2>Atividades Offline em casa</h2>
      <div class="box-grid">
        <a class="box" href="ler.html">Ler um livro</a>
        <a class="box" href="diaoffline.html">Seu dia criativo</a>
        <a class="box" href="cozinhar.html">Cozinhar algo novo</a>
      </div>
    </div>

    <!-- Recompensas -->
    <div class="section">
      <h2>Atividades Offline fora de casa</h2>
      <div class="box-grid">
        <a class="box" href="primeiro.html">Jogos</a>
        <a class="box" href="caminhada.html">Fazer uma caminhada</a>
        <a class="box" href="chef.html">Esporetes</a>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    const inputFoto = document.getElementById('inputFoto');
    const fotoPerfil = document.getElementById('fotoPerfil');
    inputFoto.addEventListener('change', function () {
      const arquivo = this.files[0];
      if (arquivo) {
        const reader = new FileReader();
        reader.onload = function (e) {
          fotoPerfil.src = e.target.result;
        };
        reader.readAsDataURL(arquivo);
      }
    });

    const pets = [
      { nome: "Cobrinha", pequeno: "pet/cobra.jpg", medio: "pet/cobramedia.jpg", grande: "pet/cobradulta.jpg" },
      { nome: "Dino", pequeno: "pet/dino.jpg", medio: "pet/dinomedio.jpg", grande: "pet/dinoadulto.jpg" },
      { nome: "DragÃ£o", pequeno: "pet/dragao.jpg", medio: "pet/dragaomedio.jpg", grande: "pet/dragaoadulto.jpg" },
      { nome: "Pinguim", pequeno: "pet/pinguin.jpg", medio: "pet/pinguinmedio.jpg", grande: "pet/pinguinadulto.jpg" }
    ];

    let petAtual = null;
    let xp = 0;
    let fase = "pequeno";

    function sortearPet() {
      const sorteado = pets[Math.floor(Math.random() * pets.length)];
      petAtual = sorteado;
      xp = 0;
      fase = "pequeno";

      const petImg = document.getElementById("petImagem");
      petImg.src = petAtual.pequeno;
      document.getElementById("petNome").innerText = petAtual.nome;
      atualizarXP();
    }

    function ganharXP() {
      if (!petAtual) {
        alert("VocÃª precisa sortear um pet primeiro!");
        return;
      }

      let ganho = Math.floor(Math.random() * 10) + 10;
      if (xp + ganho > 100) ganho = 100 - xp;

      xp += ganho;
      atualizarXP();

      if (xp === 100) evoluirPet();
    }

    function atualizarXP() {
      document.getElementById("xpBar").style.width = xp + "%";
      document.getElementById("xpTexto").innerText = `XP: ${xp}%`;
    }

    function evoluirPet() {
      const petImg = document.getElementById("petImagem");

      if (fase === "pequeno") {
        fase = "medio";
        petImg.src = petAtual.medio;
        alert(`${petAtual.nome} cresceu e ficou MÃ‰DIO! ğŸ¾`);
      } else if (fase === "medio") {
        fase = "grande";
        petImg.src = petAtual.grande;
        alert(`${petAtual.nome} evoluiu e ficou ADULTO! ğŸ‰`);
      } else {
        alert(`${petAtual.nome} jÃ¡ estÃ¡ no nÃ­vel mÃ¡ximo! ğŸŒŸ`);
      }

      xp = 0;
      atualizarXP();
    }
  </script>
</body>

</html>